{"version":3,"sources":["app.es6"],"names":["escape","arg","replace","prepare","html","keys","Array","from","match","matches","concat","replaces","map","includes","i","output","forEach","idx","RegExp","prettify","parentNode","innerHTML","document","querySelectorAll","val","indexOf","router","css","current","hidden","callback","window","requestAnimationFrame","methods","querySelector","classList","remove","ev","trigger","add","form","setAttribute","options","selectedIndex","value","onsubmit","preventDefault","stopPropagation","target","onchange","location","pathname","onkeyup","test","innerText","console","log","join"],"mappings":"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","file":"app.js","sourcesContent":["\"use strict\";\r\n\r\n(function () {\r\n\tfunction escape (arg) {\r\n\t\treturn arg.replace(/[\\-\\[\\]{}()*+?.,\\\\\\/\\^\\$|#\\s]/g, \"\\\\$&\");\r\n\t}\r\n\r\n\t// Stage 1 of prettifying a <code>\r\n\tfunction prepare (html) {\r\n\t\tconst keys = Array.from(html.match(/\\\".*\":/g)),\r\n\t\t\tmatches = Array.from(keys.concat(html.match(/:\\s(\\\".*\\\"|\\d{3,3}|null)/g))),\r\n\t\t\treplaces = matches.map(i => keys.includes(i) ? i.replace(/(\\\"(.*)\\\")/, \"<span class='key $2'>$1</span>\") : i.replace(/(\\\".*\\\"|\\d{3,3}|null)/, \"<span class='item'>$1</span>\"));\r\n\r\n\t\tlet output = html;\r\n\r\n\t\tmatches.forEach((i, idx) => {\r\n\t\t\toutput = output.replace(new RegExp(escape(i), \"g\"), replaces[idx]);\r\n\t\t});\r\n\r\n\t\treturn output;\r\n\t}\r\n\r\n\t// Prettifies a <code>\r\n\tfunction prettify (arg) {\r\n\t\t// Changing <pre> into selectable Elements\r\n\t\targ.parentNode.parentNode.innerHTML = prepare(arg.innerHTML)\r\n\t\t\t.replace(/\\n/g, \"<br>\\n\")\r\n\t\t\t.replace(/(\\s{2,2})/g, \"<span class='spaces'></span>\");\r\n\r\n\t\t// Changing URIs into anchors\r\n\t\tdocument.querySelectorAll(\".item\").forEach(i => {\r\n\t\t\tlet html = i.innerHTML,\r\n\t\t\t\tval = html.replace(/(^\\\"|\\\"$)/g, \"\");\r\n\r\n\t\t\tif (val.indexOf( \"/\" ) === 0 || val.indexOf(\"//\") > -1) {\r\n\t\t\t\thtml = html.replace(val, \"<a href='\" + val + \"' title='View \" + val + \"'>\" + val + \"</a>\");\r\n\t\t\t}\r\n\r\n\t\t\ti.innerHTML = html;\r\n\t\t});\r\n\t}\r\n\r\n\t// Creating a DOM router\r\n\trouter({css: {current: \"is-active\", hidden: \"dr-hidden\"}, callback: ev => {\r\n\t\twindow.requestAnimationFrame(() => {\r\n\t\t\tconst methods = document.querySelector(\"#methods\");\r\n\r\n\t\t\tdocument.querySelectorAll(\"li.is-active\").forEach(i => i.classList.remove(\"is-active\"));\r\n\t\t\tev.trigger.parentNode.classList.add(\"is-active\");\r\n\r\n\t\t\tif (methods !== null) {\r\n\t\t\t\tlet form = document.querySelector(\"form\");\r\n\r\n\t\t\t\tform.setAttribute(\"method\", methods.options[methods.selectedIndex].value);\r\n\r\n\t\t\t\t// Intercepting the submission\r\n\t\t\t\tform.onsubmit = ev => {\r\n\t\t\t\t\tev.preventDefault();\r\n\t\t\t\t\tev.stopPropagation();\r\n\t\t\t\t\twindow.requestAnimationFrame(() => ev.target.querySelector(\"button\").classList.add(\"is-loading\"));\r\n\t\t\t\t};\r\n\r\n\t\t\t\tmethods.onchange = () => form.setAttribute(\"method\", methods.options[methods.selectedIndex].value);\r\n\t\t\t}\r\n\t\t});\r\n\t}});\r\n\r\n\t// Wiring up format selection\r\n\tdocument.querySelector(\"#formats\").onchange = ev => {\r\n\t\twindow.location = window.location.pathname + \"?format=\" + ev.target.options[ev.target.selectedIndex].value;\r\n\t};\r\n\r\n\t// Wiring up JSON validation\r\n\tdocument.querySelector(\"textarea\").onkeyup = ev => {\r\n\t\tif (ev.target.value !== \"\") {\r\n\t\t\tev.target.classList.remove(\"is-danger\");\r\n\t\t\tdocument.querySelector(\".button.is-primary\").classList.remove(\"is-disabled\");\r\n\t\t} else {\r\n\t\t\tev.target.classList.add(\"is-danger\");\r\n\t\t\tdocument.querySelector(\".button.is-primary\").classList.add(\"is-disabled\");\r\n\t\t}\r\n\t};\r\n\r\n\t// Setting up the UI\r\n\twindow.requestAnimationFrame(() => {\r\n\t\t// Hiding the request tab if read-only\r\n\t\tif (!(/(PATCH|PUT|POST)/).test(document.querySelector(\"#allow\").innerText)) {\r\n\t\t\tdocument.querySelector(\"li.request\").classList.add(\"dr-hidden\");\r\n\t\t}\r\n\r\n\t\t// Resetting format selection (back button)\r\n\t\tdocument.querySelector(\"#formats\").selectedIndex = 0;\r\n\r\n\t\t// Prettifying the response\r\n\t\tprettify(document.querySelector(\"#body\"));\r\n\t});\r\n\r\n\tconsole.log([\r\n\t\t\"        ,----,\",\r\n\t\t\"      ,/   .`|\",\r\n\t\t\"    ,`   .'  :\",\r\n\t\t\"  ;    ;     /\",\r\n\t\t\".'___,/    ,'              ,---,              ,---.\",\r\n\t\t\"|    :     |           ,-+-. /  | .--.--.    '   ,'\\\\\",\r\n\t\t\";    |.';  ;   ,---.  ,--.'|'   |/  /    '  /   /   |\",\r\n\t\t\"`----'  |  |  /     \\\\|   |  ,\\\"' |  :  /`./ .   ; ,. :\",\r\n\t\t\"    '   :  ; /    /  |   | /  | |  :  ;_   '   | |: :\",\r\n\t\t\"    |   |  '.    ' / |   | |  | |\\\\  \\\\    `.'   | .; :\",\r\n\t\t\"    '   :  |'   ;   /|   | |  |/  `----.   \\\\   :    |\",\r\n\t\t\"    ;   |.' '   |  / |   | |--'  /  /`--'  /\\\\   \\\\  /\",\r\n\t\t\"    '---'   |   :    |   |/     '--'.     /  `----'\",\r\n\t\t\"             \\\\   \\\\  /'---'        `--'---'\",\r\n\t\t\"              `----'\"\r\n\t].join(\"\\n\"));\r\n})();\r\n"]}